import{S as s,i as t,s as e,e as a,t as o,k as l,c as n,a as r,g as c,d as h,n as f,b as p,T as i,f as u,F as d,h as g,G as m,H as v,U as b,J as E}from"../../chunks/vendor-d62291b3.js";import{b as x}from"../../chunks/store-0291cfd6.js";function N(s,t,e){const a=s.slice();return a[4]=t[e],a[6]=e,a}function A(s){let t;return{c(){t=o("s")},l(s){t=c(s,"s")},m(s,e){u(s,t,e)},d(s){s&&h(t)}}}function k(s){let t,e,m,v,b,E,x,N,k,j,w,y,I,S,T=s[4].note.title+"",H=s[4].note.steps.length+"",U=s[4].note.steps.length>1&&A();return{c(){t=a("li"),e=a("div"),m=a("div"),v=a("h5"),b=o(T),E=l(),x=a("span"),N=o(H),k=o("\r\n              Step"),U&&U.c(),j=l(),w=a("a"),y=a("button"),I=o("More"),S=l(),this.h()},l(s){t=n(s,"LI",{});var a=r(t);e=n(a,"DIV",{class:!0,style:!0});var o=r(e);m=n(o,"DIV",{class:!0});var l=r(m);v=n(l,"H5",{class:!0});var p=r(v);b=c(p,T),p.forEach(h),E=f(l),x=n(l,"SPAN",{class:!0});var i=r(x);N=c(i,H),k=c(i,"\r\n              Step"),U&&U.l(i),i.forEach(h),l.forEach(h),j=f(o),w=n(o,"A",{class:!0,href:!0});var u=r(w);y=n(u,"BUTTON",{class:!0});var d=r(y);I=c(d,"More"),d.forEach(h),u.forEach(h),o.forEach(h),S=f(a),a.forEach(h),this.h()},h(){p(v,"class","block"),p(x,"class","block"),p(m,"class","flex flex-col"),p(y,"class","py-2 px-4 bg-pink-700 rounded-md text-white text-sm "),p(w,"class","mb-2"),p(w,"href","/app/"+s[6]),p(e,"class","flex justify-between mb-3"),i(e,"border-bottom","2px solid gray")},m(s,a){u(s,t,a),d(t,e),d(e,m),d(m,v),d(v,b),d(m,E),d(m,x),d(x,N),d(x,k),U&&U.m(x,null),d(e,j),d(e,w),d(w,y),d(y,I),d(t,S)},p(s,t){1&t&&T!==(T=s[4].note.title+"")&&g(b,T),1&t&&H!==(H=s[4].note.steps.length+"")&&g(N,H),s[4].note.steps.length>1?U||(U=A(),U.c(),U.m(x,null)):U&&(U.d(1),U=null)},d(s){s&&h(t),U&&U.d()}}}function j(s){let t,e,i,g,E,x,A,j,w,I,S,T,H,U,D,M=s[0],O=[];for(let a=0;a<M.length;a+=1)O[a]=k(N(s,M,a));return{c(){t=a("h1"),e=o("App Notes"),i=l(),g=a("main"),E=a("a"),x=a("h3"),A=o("App Notes"),j=l(),w=a("ul");for(let s=0;s<O.length;s+=1)O[s].c();I=l(),S=a("div"),T=a("button"),H=o("+"),this.h()},l(s){t=n(s,"H1",{class:!0});var a=r(t);e=c(a,"App Notes"),a.forEach(h),i=f(s),g=n(s,"MAIN",{});var o=r(g);E=n(o,"A",{href:!0});var l=r(E);x=n(l,"H3",{class:!0});var p=r(x);A=c(p,"App Notes"),p.forEach(h),l.forEach(h),j=f(o),w=n(o,"UL",{});var u=r(w);for(let t=0;t<O.length;t+=1)O[t].l(u);u.forEach(h),o.forEach(h),I=f(s),S=n(s,"DIV",{class:!0});var d=r(S);T=n(d,"BUTTON",{});var m=r(T);H=c(m,"+"),m.forEach(h),d.forEach(h),this.h()},h(){p(t,"class","text-2xl font-bold"),p(x,"class","mb-10"),p(E,"href","/app/new"),p(S,"class","fab svelte-1xt8mje")},m(s,a){u(s,t,a),d(t,e),u(s,i,a),u(s,g,a),d(g,E),d(E,x),d(x,A),d(g,j),d(g,w);for(let t=0;t<O.length;t+=1)O[t].m(w,null);u(s,I,a),u(s,S,a),d(S,T),d(T,H),U||(D=m(T,"click",y),U=!0)},p(s,[t]){if(1&t){let e;for(M=s[0],e=0;e<M.length;e+=1){const a=N(s,M,e);O[e]?O[e].p(a,t):(O[e]=k(a),O[e].c(),O[e].m(w,null))}for(;e<O.length;e+=1)O[e].d(1);O.length=M.length}},i:v,o:v,d(s){s&&h(t),s&&h(i),s&&h(g),b(O,s),s&&h(I),s&&h(S),U=!1,D()}}}const w=async({page:s,fetch:t,session:e})=>{if(console.log(e),!e)return{status:302,location:"/auth"};const a=await t("/app.json");console.log(a);const o=(await a.json()).map((function(s){let t=JSON.parse(s.string);return t.id=s.id,t}));return console.log("appNotes,",x),x.set(o),{props:{user:e}}};function y(){}function I(s,t,e){let a;E(s,x,(s=>e(0,a=s))),console.log(a);return console.log("A:","a"),[a]}export default class extends s{constructor(s){super(),t(this,s,I,j,e,{})}}export{w as load};
