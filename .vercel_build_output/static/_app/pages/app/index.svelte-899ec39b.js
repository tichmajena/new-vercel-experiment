import{S as s,i as t,s as a,e,t as o,k as l,c as n,a as r,g as c,d as h,n as f,b as p,V as i,f as u,F as d,h as g,G as m,H as v,W as b,J as E}from"../../chunks/vendor-233f8ef4.js";import{b as x}from"../../chunks/store-098d49d4.js";function N(s,t,a){const e=s.slice();return e[4]=t[a],e[6]=a,e}function A(s){let t;return{c(){t=o("s")},l(s){t=c(s,"s")},m(s,a){u(s,t,a)},d(s){s&&h(t)}}}function k(s){let t,a,m,v,b,E,x,N,k,j,w,y,I,S,H,T=s[4].note.title+"",V=s[4].note.steps.length+"",D=s[4].note.steps.length>1&&A();return{c(){t=e("li"),a=e("div"),m=e("div"),v=e("h5"),b=o(T),E=l(),x=e("span"),N=o(V),k=o("\r\n              Step"),D&&D.c(),j=l(),w=e("a"),y=e("button"),I=o("More"),H=l(),this.h()},l(s){t=n(s,"LI",{});var e=r(t);a=n(e,"DIV",{class:!0,style:!0});var o=r(a);m=n(o,"DIV",{class:!0});var l=r(m);v=n(l,"H5",{class:!0});var p=r(v);b=c(p,T),p.forEach(h),E=f(l),x=n(l,"SPAN",{class:!0});var i=r(x);N=c(i,V),k=c(i,"\r\n              Step"),D&&D.l(i),i.forEach(h),l.forEach(h),j=f(o),w=n(o,"A",{class:!0,href:!0});var u=r(w);y=n(u,"BUTTON",{class:!0});var d=r(y);I=c(d,"More"),d.forEach(h),u.forEach(h),o.forEach(h),H=f(e),e.forEach(h),this.h()},h(){p(v,"class","block"),p(x,"class","block"),p(m,"class","flex flex-col"),p(y,"class","py-2 px-4 bg-pink-700 rounded-md text-white text-sm "),p(w,"class","mb-2"),p(w,"href",S="/app/"+s[6]),p(a,"class","flex justify-between mb-3"),i(a,"border-bottom","2px solid gray")},m(s,e){u(s,t,e),d(t,a),d(a,m),d(m,v),d(v,b),d(m,E),d(m,x),d(x,N),d(x,k),D&&D.m(x,null),d(a,j),d(a,w),d(w,y),d(y,I),d(t,H)},p(s,t){1&t&&T!==(T=s[4].note.title+"")&&g(b,T),1&t&&V!==(V=s[4].note.steps.length+"")&&g(N,V),s[4].note.steps.length>1?D||(D=A(),D.c(),D.m(x,null)):D&&(D.d(1),D=null)},d(s){s&&h(t),D&&D.d()}}}function j(s){let t,a,i,g,E,x,A,j,w,I,S,H,T,V,D,M=s[0],O=[];for(let e=0;e<M.length;e+=1)O[e]=k(N(s,M,e));return{c(){t=e("h1"),a=o("App Notes"),i=l(),g=e("main"),E=e("a"),x=e("h3"),A=o("App Notes"),j=l(),w=e("ul");for(let s=0;s<O.length;s+=1)O[s].c();I=l(),S=e("div"),H=e("button"),T=o("+"),this.h()},l(s){t=n(s,"H1",{class:!0});var e=r(t);a=c(e,"App Notes"),e.forEach(h),i=f(s),g=n(s,"MAIN",{});var o=r(g);E=n(o,"A",{href:!0});var l=r(E);x=n(l,"H3",{class:!0});var p=r(x);A=c(p,"App Notes"),p.forEach(h),l.forEach(h),j=f(o),w=n(o,"UL",{});var u=r(w);for(let t=0;t<O.length;t+=1)O[t].l(u);u.forEach(h),o.forEach(h),I=f(s),S=n(s,"DIV",{class:!0});var d=r(S);H=n(d,"BUTTON",{});var m=r(H);T=c(m,"+"),m.forEach(h),d.forEach(h),this.h()},h(){p(t,"class","text-2xl font-bold"),p(x,"class","mb-10"),p(E,"href","/app/new"),p(S,"class","fab svelte-1xt8mje")},m(s,e){u(s,t,e),d(t,a),u(s,i,e),u(s,g,e),d(g,E),d(E,x),d(x,A),d(g,j),d(g,w);for(let t=0;t<O.length;t+=1)O[t].m(w,null);u(s,I,e),u(s,S,e),d(S,H),d(H,T),V||(D=m(H,"click",y),V=!0)},p(s,[t]){if(1&t){let a;for(M=s[0],a=0;a<M.length;a+=1){const e=N(s,M,a);O[a]?O[a].p(e,t):(O[a]=k(e),O[a].c(),O[a].m(w,null))}for(;a<O.length;a+=1)O[a].d(1);O.length=M.length}},i:v,o:v,d(s){s&&h(t),s&&h(i),s&&h(g),b(O,s),s&&h(I),s&&h(S),V=!1,D()}}}const w=async({page:s,fetch:t,session:a})=>{if(console.log(a),!a)return{status:302,location:"/auth"};const e=await t("/app.json");console.log(e);const o=(await e.json()).map((function(s){let t=JSON.parse(s.string);return t.id=s.id,t}));return console.log("appNotes,",x),x.set(o),{props:{user:a}}};function y(){}function I(s,t,a){let e;E(s,x,(s=>a(0,e=s))),console.log(e);return console.log("A:","a"),[e]}class S extends s{constructor(s){super(),t(this,s,I,j,a,{})}}export{S as default,w as load};
