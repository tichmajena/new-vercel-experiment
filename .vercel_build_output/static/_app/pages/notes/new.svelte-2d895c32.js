import{S as s,i as t,s as e,e as a,D as o,k as l,t as n,c as r,a as c,d as i,n as u,g as h,b as d,f as p,F as f,X as m,l as g,V as v,G as x,H as w,I as b}from"../../chunks/vendor-d62291b3.js";import{p as k,g as y}from"../../chunks/navigation-0819b7b8.js";import"../../chunks/singletons-9c431dc7.js";function N(s){let t,e,g,v,x,w,b,k,y;return{c(){t=a("div"),e=a("div"),g=o("svg"),v=o("path"),x=l(),w=a("span"),b=n("Notes successfull"),this.h()},l(s){t=r(s,"DIV",{class:!0});var a=c(t);e=r(a,"DIV",{class:!0});var o=c(e);g=r(o,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0},1);var l=c(g);v=r(l,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0},1),c(v).forEach(i),l.forEach(i),o.forEach(i),x=u(a),w=r(a,"SPAN",{class:!0});var n=c(w);b=h(n,"Notes successfull"),n.forEach(i),a.forEach(i),this.h()},h(){d(v,"stroke-linecap","round"),d(v,"stroke-linejoin","round"),d(v,"stroke-width","2"),d(v,"d","M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"),d(g,"xmlns","http://www.w3.org/2000/svg"),d(g,"class","h-8 w-8 "),d(g,"fill","none"),d(g,"viewBox","0 0 24 24"),d(g,"stroke","currentColor"),d(e,"class","p-2 border-blue-700 border-2 mr-3 rounded-full flex justify-center items-center"),d(w,"class","text-xl"),d(t,"class","flex items-center justify-center mx-auto md:max-w-md w-full bg-green-100 rounded mb-16 shadow-lg text text-green-600 p-5")},m(a,o){p(a,t,o),f(t,e),f(e,g),f(g,v),f(t,x),f(t,w),f(w,b),k||(y=m(s[4].call(null,t)),k=!0)},d(s){s&&i(t),k=!1,y()}}}function j(s){let t,e,o,m,k,y,j,E,I,T,P,S,A,O,V,B,D,H=s[2]&&N(s);return{c(){t=a("h1"),e=n("Notes"),o=l(),m=a("div"),k=a("h3"),y=n("Add Note"),j=l(),E=a("input"),I=l(),T=a("input"),P=l(),S=a("button"),A=n("Publish"),O=l(),H&&H.c(),V=g(),this.h()},l(s){t=r(s,"H1",{class:!0});var a=c(t);e=h(a,"Notes"),a.forEach(i),o=u(s),m=r(s,"DIV",{class:!0});var l=c(m);k=r(l,"H3",{class:!0});var n=c(k);y=h(n,"Add Note"),n.forEach(i),j=u(l),E=r(l,"INPUT",{class:!0,placeholder:!0,type:!0}),I=u(l),T=r(l,"INPUT",{class:!0,placeholder:!0,type:!0}),P=u(l),S=r(l,"BUTTON",{class:!0});var d=c(S);A=h(d,"Publish"),d.forEach(i),l.forEach(i),O=u(s),H&&H.l(s),V=g(),this.h()},h(){d(t,"class","text-2xl font-bold "),d(k,"class","text-center text-2xl mb-5"),d(E,"class","w-full rounded mb-5"),d(E,"placeholder","Title"),d(E,"type","text"),d(T,"class","w-full rounded mb-5"),d(T,"placeholder","Content"),d(T,"type","text"),d(S,"class","px-6 py-2 text-white rounded bg-pink-700 hover:bg-pink-500"),d(m,"class","mx-auto p-5 md:max-w-md w-full bg-gray-100 rounded mb-16 shadow-lg")},m(a,l){p(a,t,l),f(t,e),p(a,o,l),p(a,m,l),f(m,k),f(k,y),f(m,j),f(m,E),v(E,s[0]),f(m,I),f(m,T),v(T,s[1]),f(m,P),f(m,S),f(S,A),p(a,O,l),H&&H.m(a,l),p(a,V,l),B||(D=[x(E,"input",s[5]),x(T,"input",s[6]),x(S,"click",s[3])],B=!0)},p(s,[t]){1&t&&E.value!==s[0]&&v(E,s[0]),2&t&&T.value!==s[1]&&v(T,s[1]),s[2]?H||(H=N(s),H.c(),H.m(V.parentNode,V)):H&&(H.d(1),H=null)},i:w,o:w,d(s){s&&i(t),s&&i(o),s&&i(m),s&&i(O),H&&H.d(s),s&&i(V),B=!1,b(D)}}}function E(s,t,e){let a,o,l,n=!1;return[a,o,n,async function(){let s=localStorage.getItem("token");s=JSON.parse(s);try{const t=await fetch("https://imajenation.co.zw/mydiary/wp-json/wp/v2/note",{method:"POST",credentials:"include",headers:{"Content-type":"application/json",Authorization:"Bearer "+s},body:JSON.stringify({title:a,content:o,status:"publish"})});l=await t.json(),console.log(l.slug),t.ok?(k(`/notes/${l.slug}`),e(2,n=!0)):console.log("res has an error")}catch(t){console.log("ERROR!!!: ",t)}},function(){setTimeout((()=>{e(2,n=!1),y(`/notes/${l.slug}`)}),2e3)},function(){a=this.value,e(0,a)},function(){o=this.value,e(1,o)}]}export default class extends s{constructor(s){super(),t(this,s,E,j,e,{})}}
