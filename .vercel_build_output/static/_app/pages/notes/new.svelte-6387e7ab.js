import{S as z,i as L,s as q,e as w,D as M,k as E,t as P,c as k,a as y,E as V,d,n as S,g as T,b as s,f as I,G as n,_ as G,l as J,Y as A,H as B,I as R,J as Y}from"../../chunks/vendor-52b416c4.js";import{p as F,g as K}from"../../chunks/navigation-51b348a1.js";import"../../chunks/singletons-ff603286.js";function U(v){let l,r,o,e,i,f,_,p,b,u;return{c(){l=w("div"),r=w("div"),o=M("svg"),e=M("path"),i=E(),f=w("span"),_=P("Notes successfull"),this.h()},l(h){l=k(h,"DIV",{class:!0});var a=y(l);r=k(a,"DIV",{class:!0});var j=y(r);o=V(j,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var N=y(o);e=V(N,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),y(e).forEach(d),N.forEach(d),j.forEach(d),i=S(a),f=k(a,"SPAN",{class:!0});var g=y(f);_=T(g,"Notes successfull"),g.forEach(d),a.forEach(d),this.h()},h(){s(e,"stroke-linecap","round"),s(e,"stroke-linejoin","round"),s(e,"stroke-width","2"),s(e,"d","M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"),s(o,"xmlns","http://www.w3.org/2000/svg"),s(o,"class","h-8 w-8 "),s(o,"fill","none"),s(o,"viewBox","0 0 24 24"),s(o,"stroke","currentColor"),s(r,"class","p-2 border-blue-700 border-2 mr-3 rounded-full flex justify-center items-center"),s(f,"class","text-xl"),s(l,"class","flex items-center justify-center mx-auto md:max-w-md w-full bg-green-100 rounded mb-16 shadow-lg text text-green-600 p-5")},m(h,a){I(h,l,a),n(l,r),n(r,o),n(o,e),n(l,i),n(l,f),n(f,_),b||(u=G(p=v[4].call(null,l)),b=!0)},d(h){h&&d(l),b=!1,u()}}}function Q(v){let l,r,o,e,i,f,_,p,b,u,h,a,j,N,g,O,C,c=v[2]&&U(v);return{c(){l=w("h1"),r=P("Notes"),o=E(),e=w("div"),i=w("h3"),f=P("Add Note"),_=E(),p=w("input"),b=E(),u=w("input"),h=E(),a=w("button"),j=P("Publish"),N=E(),c&&c.c(),g=J(),this.h()},l(t){l=k(t,"H1",{class:!0});var m=y(l);r=T(m,"Notes"),m.forEach(d),o=S(t),e=k(t,"DIV",{class:!0});var x=y(e);i=k(x,"H3",{class:!0});var D=y(i);f=T(D,"Add Note"),D.forEach(d),_=S(x),p=k(x,"INPUT",{class:!0,placeholder:!0,type:!0}),b=S(x),u=k(x,"INPUT",{class:!0,placeholder:!0,type:!0}),h=S(x),a=k(x,"BUTTON",{class:!0});var H=y(a);j=T(H,"Publish"),H.forEach(d),x.forEach(d),N=S(t),c&&c.l(t),g=J(),this.h()},h(){s(l,"class","text-2xl font-bold "),s(i,"class","text-center text-2xl mb-5"),s(p,"class","w-full rounded mb-5"),s(p,"placeholder","Title"),s(p,"type","text"),s(u,"class","w-full rounded mb-5"),s(u,"placeholder","Content"),s(u,"type","text"),s(a,"class","px-6 py-2 text-white rounded bg-pink-700 hover:bg-pink-500"),s(e,"class","mx-auto p-5 md:max-w-md w-full bg-gray-100 rounded mb-16 shadow-lg")},m(t,m){I(t,l,m),n(l,r),I(t,o,m),I(t,e,m),n(e,i),n(i,f),n(e,_),n(e,p),A(p,v[0]),n(e,b),n(e,u),A(u,v[1]),n(e,h),n(e,a),n(a,j),I(t,N,m),c&&c.m(t,m),I(t,g,m),O||(C=[B(p,"input",v[5]),B(u,"input",v[6]),B(a,"click",v[3])],O=!0)},p(t,[m]){m&1&&p.value!==t[0]&&A(p,t[0]),m&2&&u.value!==t[1]&&A(u,t[1]),t[2]?c||(c=U(t),c.c(),c.m(g.parentNode,g)):c&&(c.d(1),c=null)},i:R,o:R,d(t){t&&d(l),t&&d(o),t&&d(e),t&&d(N),c&&c.d(t),t&&d(g),O=!1,Y(C)}}}function W(v,l,r){let o,e,i,f=!1;async function _(){let h=localStorage.getItem("token");h=JSON.parse(h);try{const a=await fetch("https://imajenation.co.zw/mydiary/wp-json/wp/v2/note",{method:"POST",credentials:"include",headers:{"Content-type":"application/json",Authorization:"Bearer "+h},body:JSON.stringify({title:o,content:e,status:"publish"})});i=await a.json(),console.log(i.slug),a.ok?(F(`/notes/${i.slug}`),r(2,f=!0)):console.log("res has an error")}catch(a){console.log("ERROR!!!: ",a)}}function p(){setTimeout(()=>{r(2,f=!1),K(`/notes/${i.slug}`)},2e3)}function b(){o=this.value,r(0,o)}function u(){e=this.value,r(1,e)}return[o,e,f,_,p,b,u]}class ee extends z{constructor(l){super();L(this,l,W,Q,q,{})}}export{ee as default};
