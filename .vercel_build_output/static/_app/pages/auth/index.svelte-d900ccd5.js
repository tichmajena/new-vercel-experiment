import{S as oe,i as ne,s as ie,e as g,k as P,c as w,n as V,b as a,F as h,f as m,Y as O,H,d as c,J as x,t as L,a as y,g as D,G as p,D as W,E as K,_ as ue,h as ae,T as fe,al as ce,U as de,V as $,I as ee}from"../../chunks/vendor-911147da.js";function te(n){let e,t,r,i,u;return{c(){e=g("input"),t=P(),r=g("input"),this.h()},l(l){e=w(l,"INPUT",{class:!0,placeholder:!0,type:!0}),t=V(l),r=w(l,"INPUT",{class:!0,placeholder:!0,type:!0}),this.h()},h(){a(e,"class","w-full rounded mb-5"),a(e,"placeholder","Display Name"),a(e,"type","text"),h(e,"border-red-700",n[0]===!0),h(e,"bg-red-200",n[0]===!0),a(r,"class","w-full rounded mb-5"),a(r,"placeholder","Email"),a(r,"type","text"),h(r,"border-red-700",n[0]===!0),h(r,"bg-red-200",n[0]===!0)},m(l,s){m(l,e,s),O(e,n[6]),m(l,t,s),m(l,r,s),O(r,n[7]),i||(u=[H(e,"input",n[16]),H(r,"input",n[17])],i=!0)},p(l,s){s&64&&e.value!==l[6]&&O(e,l[6]),s&1&&h(e,"border-red-700",l[0]===!0),s&1&&h(e,"bg-red-200",l[0]===!0),s&128&&r.value!==l[7]&&O(r,l[7]),s&1&&h(r,"border-red-700",l[0]===!0),s&1&&h(r,"bg-red-200",l[0]===!0)},d(l){l&&c(e),l&&c(t),l&&c(r),i=!1,x(u)}}}function le(n){let e,t;return{c(){e=g("span"),t=L("Error, I think pane zvaitika"),this.h()},l(r){e=w(r,"SPAN",{class:!0});var i=y(e);t=D(i,"Error, I think pane zvaitika"),i.forEach(c),this.h()},h(){a(e,"class","text-red-700 block mb-5")},m(r,i){m(r,e,i),p(e,t)},d(r){r&&c(e)}}}function pe(n){let e,t,r;function i(s,f){return s[3]?me:_e}let u=i(n),l=u(n);return{c(){e=g("button"),l.c(),this.h()},l(s){e=w(s,"BUTTON",{class:!0});var f=y(e);l.l(f),f.forEach(c),this.h()},h(){a(e,"class","px-6 py-2 text-white rounded hover:bg-pink-500"),h(e,"bg-pink-700",!n[3]),h(e,"bg-pink-300",n[3])},m(s,f){m(s,e,f),l.m(e,null),t||(r=H(e,"click",n[12]),t=!0)},p(s,f){u!==(u=i(s))&&(l.d(1),l=u(s),l&&(l.c(),l.m(e,null))),f&8&&h(e,"bg-pink-700",!s[3]),f&8&&h(e,"bg-pink-300",s[3])},d(s){s&&c(e),l.d(),t=!1,r()}}}function he(n){let e,t,r;function i(s,f){return s[3]?ke:be}let u=i(n),l=u(n);return{c(){e=g("button"),l.c(),this.h()},l(s){e=w(s,"BUTTON",{class:!0});var f=y(e);l.l(f),f.forEach(c),this.h()},h(){a(e,"class","px-6 py-2 text-white rounded hover:bg-pink-500"),h(e,"bg-pink-700",!n[3]),h(e,"bg-pink-300",n[3])},m(s,f){m(s,e,f),l.m(e,null),t||(r=H(e,"click",n[10]),t=!0)},p(s,f){u!==(u=i(s))&&(l.d(1),l=u(s),l&&(l.c(),l.m(e,null))),f&8&&h(e,"bg-pink-700",!s[3]),f&8&&h(e,"bg-pink-300",s[3])},d(s){s&&c(e),l.d(),t=!1,r()}}}function _e(n){let e;return{c(){e=L("Register")},l(t){e=D(t,"Register")},m(t,r){m(t,e,r)},d(t){t&&c(e)}}}function me(n){let e;return{c(){e=L("...")},l(t){e=D(t,"...")},m(t,r){m(t,e,r)},d(t){t&&c(e)}}}function be(n){let e;return{c(){e=L("Login")},l(t){e=D(t,"Login")},m(t,r){m(t,e,r)},d(t){t&&c(e)}}}function ke(n){let e;return{c(){e=L("...")},l(t){e=D(t,"...")},m(t,r){m(t,e,r)},d(t){t&&c(e)}}}function ve(n){let e,t,r,i,u;return{c(){e=L(`Already have an Account?\r
    `),t=g("a"),r=L("Login"),this.h()},l(l){e=D(l,`Already have an Account?\r
    `),t=w(l,"A",{href:!0});var s=y(t);r=D(s,"Login"),s.forEach(c),this.h()},h(){a(t,"href","")},m(l,s){m(l,e,s),m(l,t,s),p(t,r),i||(u=H(t,"click",n[14]),i=!0)},p:ee,d(l){l&&c(e),l&&c(t),i=!1,u()}}}function ge(n){let e,t,r,i,u;return{c(){e=L(`Don't have an Account?\r
    `),t=g("a"),r=L("Register"),this.h()},l(l){e=D(l,`Don't have an Account?\r
    `),t=w(l,"A",{href:!0});var s=y(t);r=D(s,"Register"),s.forEach(c),this.h()},h(){a(t,"href","")},m(l,s){m(l,e,s),m(l,t,s),p(t,r),i||(u=H(t,"click",n[13]),i=!0)},p:ee,d(l){l&&c(e),l&&c(t),i=!1,u()}}}function re(n){let e,t,r,i,u,l,s,f,v,b;return{c(){e=g("div"),t=g("div"),r=W("svg"),i=W("path"),u=P(),l=g("span"),s=L("Login successfull"),this.h()},l(A){e=w(A,"DIV",{class:!0});var E=y(e);t=w(E,"DIV",{class:!0});var T=y(t);r=K(T,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var j=y(r);i=K(j,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),y(i).forEach(c),j.forEach(c),T.forEach(c),u=V(E),l=w(E,"SPAN",{class:!0});var S=y(l);s=D(S,"Login successfull"),S.forEach(c),E.forEach(c),this.h()},h(){a(i,"stroke-linecap","round"),a(i,"stroke-linejoin","round"),a(i,"stroke-width","2"),a(i,"d","M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"),a(r,"xmlns","http://www.w3.org/2000/svg"),a(r,"class","h-8 w-8 "),a(r,"fill","none"),a(r,"viewBox","0 0 24 24"),a(r,"stroke","currentColor"),a(t,"class","p-2 border-green-700 border-2 mr-3 rounded-full flex justify-center items-center"),a(l,"class","text-xl"),a(e,"class","flex items-center justify-center mx-auto md:max-w-md w-full bg-green-100 rounded mb-16 shadow-lg text text-green-600 p-5")},m(A,E){m(A,e,E),p(e,t),p(t,r),p(r,i),p(e,u),p(e,l),p(l,s),v||(b=ue(f=n[11].call(null,e)),v=!0)},d(A){A&&c(e),v=!1,b()}}}function se(n){let e,t,r,i,u,l,s,f;return{c(){e=g("div"),t=g("div"),r=W("svg"),i=W("path"),u=P(),l=g("span"),s=L("An Error has occured: "),f=L(n[2]),this.h()},l(v){e=w(v,"DIV",{class:!0});var b=y(e);t=w(b,"DIV",{class:!0});var A=y(t);r=K(A,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var E=y(r);i=K(E,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),y(i).forEach(c),E.forEach(c),A.forEach(c),u=V(b),l=w(b,"SPAN",{class:!0});var T=y(l);s=D(T,"An Error has occured: "),f=D(T,n[2]),T.forEach(c),b.forEach(c),this.h()},h(){a(i,"stroke-linecap","round"),a(i,"stroke-linejoin","round"),a(i,"stroke-width","2"),a(i,"d","M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"),a(r,"xmlns","http://www.w3.org/2000/svg"),a(r,"class","h-8 w-8 "),a(r,"fill","none"),a(r,"viewBox","0 0 24 24"),a(r,"stroke","currentColor"),a(t,"class","p-2 border-red-700 border-2 mr-3 rounded-full flex justify-center items-center"),a(l,"class","text-xl"),a(e,"class","flex items-center justify-center mx-auto md:max-w-md w-full bg-red-100 rounded mb-16 shadow-lg text text-red-600 p-5")},m(v,b){m(v,e,b),p(e,t),p(t,r),p(r,i),p(e,u),p(e,l),p(l,s),p(l,f)},p(v,b){b&4&&ae(f,v[2])},d(v){v&&c(e)}}}function we(n){let e,t,r,i,u,l,s,f,v,b,A,E,T,j,S,M,B,C,z,Y,q,k=!n[8]&&te(n),_=n[0]===!0&&le();function J(o,d){return o[8]?he:pe}let F=J(n),U=F(n);function Q(o,d){return o[8]?ge:ve}let G=Q(n),R=G(n),N=n[1]&&re(n),I=n[0]&&se(n);return{c(){e=g("div"),t=g("h3"),r=L("Login"),i=P(),u=g("input"),l=P(),k&&k.c(),s=P(),f=g("input"),v=P(),_&&_.c(),b=P(),U.c(),T=P(),j=g("div"),R.c(),S=P(),N&&N.c(),M=P(),I&&I.c(),B=P(),C=g("div"),this.h()},l(o){e=w(o,"DIV",{class:!0});var d=y(e);t=w(d,"H3",{class:!0});var X=y(t);r=D(X,"Login"),X.forEach(c),i=V(d),u=w(d,"INPUT",{class:!0,placeholder:!0,type:!0}),l=V(d),k&&k.l(d),s=V(d),f=w(d,"INPUT",{class:!0,placeholder:!0,type:!0}),v=V(d),_&&_.l(d),b=V(d),U.l(d),d.forEach(c),T=V(o),j=w(o,"DIV",{class:!0});var Z=y(j);R.l(Z),Z.forEach(c),S=V(o),N&&N.l(o),M=V(o),I&&I.l(o),B=V(o),C=w(o,"DIV",{id:!0}),y(C).forEach(c),this.h()},h(){a(t,"class","text-center text-2xl mb-5"),a(u,"class","w-full rounded mb-5"),a(u,"placeholder",n[9]),a(u,"type","text"),h(u,"border-red-700",n[0]===!0),h(u,"bg-red-200",n[0]===!0),a(f,"class","w-full rounded mb-5"),a(f,"placeholder","Password"),a(f,"type","password"),h(f,"border-red-700",n[0]===!0),h(f,"bg-red-200",n[0]===!0),a(e,"class","mx-auto p-5 md:max-w-md w-full bg-gray-100 rounded mb-16 shadow-lg"),a(j,"class","text-center"),a(C,"id","my_word")},m(o,d){m(o,e,d),p(e,t),p(t,r),p(e,i),p(e,u),O(u,n[4]),p(e,l),k&&k.m(e,null),p(e,s),p(e,f),O(f,n[5]),p(e,v),_&&_.m(e,null),p(e,b),U.m(e,null),m(o,T,d),m(o,j,d),R.m(j,null),m(o,S,d),N&&N.m(o,d),m(o,M,d),I&&I.m(o,d),m(o,B,d),m(o,C,d),z=!0,Y||(q=[H(u,"input",n[15]),H(f,"input",n[18])],Y=!0)},p(o,[d]){(!z||d&512)&&a(u,"placeholder",o[9]),d&16&&u.value!==o[4]&&O(u,o[4]),d&1&&h(u,"border-red-700",o[0]===!0),d&1&&h(u,"bg-red-200",o[0]===!0),o[8]?k&&(k.d(1),k=null):k?k.p(o,d):(k=te(o),k.c(),k.m(e,s)),d&32&&f.value!==o[5]&&O(f,o[5]),d&1&&h(f,"border-red-700",o[0]===!0),d&1&&h(f,"bg-red-200",o[0]===!0),o[0]===!0?_||(_=le(),_.c(),_.m(e,b)):_&&(_.d(1),_=null),F===(F=J(o))&&U?U.p(o,d):(U.d(1),U=F(o),U&&(U.c(),U.m(e,null))),G===(G=Q(o))&&R?R.p(o,d):(R.d(1),R=G(o),R&&(R.c(),R.m(j,null))),o[1]?N||(N=re(o),N.c(),N.m(M.parentNode,M)):N&&(N.d(1),N=null),o[0]?I?I.p(o,d):(I=se(o),I.c(),I.m(B.parentNode,B)):I&&(I.d(1),I=null)},i(o){z||(fe(()=>{E&&E.end(1),A=de(e,$,{}),A.start()}),z=!0)},o(o){A&&A.invalidate(),E=ce(e,$,{}),z=!1},d(o){o&&c(e),k&&k.d(),_&&_.d(),U.d(),o&&E&&E.end(),o&&c(T),o&&c(j),R.d(),o&&c(S),N&&N.d(o),o&&c(M),I&&I.d(o),o&&c(B),o&&c(C),Y=!1,x(q)}}}async function Ae({page:n,fetch:e,session:t,context:r}){return t?{status:302,redirect:"/"}:{}}function ye(n,e,t){let r=!1,i=!1,u="",l=!1,s="",f="",v="",b="",A=!0,E="Username or Email";async function T(){t(3,l=!0);let k={username:s,password:f};try{const _=await fetch("/auth/login",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)});console.log(_);const J=await _.json();_.status===200?(console.log(_),console.log("res is okay"),console.log(J),t(0,r=!1),t(3,l=!1),t(1,i=!0),setTimeout(()=>{window.location="/"},2001)):(t(0,r=!0),t(3,l=!1),t(2,u="Wabhaiza Email kana Password, hameno."))}catch(_){console.log("ERRRR"),console.error(_),t(0,r=!0),t(3,l=!1),t(2,u="Check Your Internet Connection")}}function j(){setTimeout(()=>{t(1,i=!1)},2e3)}async function S(){let k={username:s,email:b,password:f,role:"author"};const J=await(await fetch("/auth/register",{method:"POST",body:JSON.stringify(k)})).json();return console.log(J.body.message),{props:{data:J}}}function M(){t(8,A=!1),t(9,E="Username")}function B(){t(8,A=!0)}function C(){s=this.value,t(4,s)}function z(){v=this.value,t(6,v)}function Y(){b=this.value,t(7,b)}function q(){f=this.value,t(5,f)}return[r,i,u,l,s,f,v,b,A,E,T,j,S,M,B,C,z,Y,q]}class Ie extends oe{constructor(e){super();ne(this,e,ye,we,ie,{})}}export{Ie as default,Ae as load};
