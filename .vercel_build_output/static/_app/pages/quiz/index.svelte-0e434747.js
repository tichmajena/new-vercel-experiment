import{S as s,i as e,s as t,e as a,t as l,c as n,a as r,g as c,d as o,b as i,f as h,G as v,h as u,I as f,k as d,j as p,n as $,m,o as g,H as x,v as w,r as T,w as b,J as E,a4 as I,T as y,U as D}from"../../chunks/vendor-66f8d0bb.js";function V(s){let e,t;return{c(){e=a("div"),t=l(s[0]),this.h()},l(a){e=n(a,"DIV",{class:!0});var l=r(e);t=c(l,s[0]),l.forEach(o),this.h()},h(){i(e,"class","block mb-10")},m(s,a){h(s,e,a),v(e,t)},p(s,[e]){1&e&&u(t,s[0])},i:f,o:f,d(s){s&&o(e)}}}function k(s,e,t){let a,l,n,r,c,{elapsedTime:o}=e;const i=s=>`00${s}`.slice(-2);return s.$$set=s=>{"elapsedTime"in s&&t(1,o=s.elapsedTime)},s.$$.update=()=>{2&s.$$.dirty&&t(2,a=i(Math.floor(o/1e3/60/60)%60)),2&s.$$.dirty&&t(3,l=i(Math.floor(o/1e3/60)%60)),2&s.$$.dirty&&t(4,n=i(Math.floor(o/1e3)%60)),2&s.$$.dirty&&t(5,r=`000${o%1e3}`.slice(-3)),60&s.$$.dirty&&t(0,c=`${a}:${l}:${n}.${r}`)},[c,o,a,l,n,r]}class q extends s{constructor(s){super(),e(this,s,k,V,t,{elapsedTime:1})}}function z(s,e,t){const a=s.slice();return a[27]=e[t],a[29]=t,a}function O(s){let e,t,u,p,m,g,w,T,b,E=s[5]()+"";return{c(){e=a("div"),t=a("h1"),u=l("Your score:"),p=l(E),m=d(),g=a("button"),w=l("Restar Quiz"),this.h()},l(s){e=n(s,"DIV",{class:!0});var a=r(e);t=n(a,"H1",{class:!0});var l=r(t);u=c(l,"Your score:"),p=c(l,E),l.forEach(o),m=$(a),g=n(a,"BUTTON",{class:!0});var i=r(g);w=c(i,"Restar Quiz"),i.forEach(o),a.forEach(o),this.h()},h(){i(t,"class","svelte-11v3xen"),i(g,"class","svelte-11v3xen"),i(e,"class","score-screen svelte-11v3xen")},m(a,l){h(a,e,l),v(e,t),v(t,u),v(t,p),v(e,m),v(e,g),v(g,w),T||(b=x(g,"click",s[6]),T=!0)},p:f,d(s){s&&o(e),T=!1,b()}}}function U(s){let e,t,f,p,m,g,w,T,b,I,V,k,q,O,U,B,_,S,j,M,Q=s[0][s[4]].question_title+"",A=s[0][s[4]].question_answers,G=[];for(let a=0;a<A.length;a+=1)G[a]=N(z(s,A,a));return{c(){e=a("div"),t=a("div"),f=a("h2"),p=l(Q),m=d(),g=a("div");for(let s=0;s<G.length;s+=1)G[s].c();w=d(),T=a("div"),b=a("div"),I=a("div"),V=d(),k=a("div"),q=a("button"),O=l("<"),B=d(),_=a("button"),S=l(">"),this.h()},l(s){e=n(s,"DIV",{class:!0});var a=r(e);t=n(a,"DIV",{class:!0});var l=r(t);f=n(l,"H2",{});var i=r(f);p=c(i,Q),i.forEach(o),m=$(l),g=n(l,"DIV",{class:!0});var h=r(g);for(let e=0;e<G.length;e+=1)G[e].l(h);h.forEach(o),l.forEach(o),w=$(a),T=n(a,"DIV",{class:!0});var v=r(T);b=n(v,"DIV",{class:!0});var u=r(b);I=n(u,"DIV",{style:!0,class:!0}),r(I).forEach(o),u.forEach(o),V=$(v),k=n(v,"DIV",{class:!0});var d=r(k);q=n(d,"BUTTON",{disabled:!0,class:!0});var x=r(q);O=c(x,"<"),x.forEach(o),B=$(d),_=n(d,"BUTTON",{class:!0});var E=r(_);S=c(E,">"),E.forEach(o),d.forEach(o),v.forEach(o),a.forEach(o),this.h()},h(){i(g,"class","options svelte-11v3xen"),i(t,"class","main svelte-11v3xen"),y(I,"width",s[4]/s[0].length*100+"%"),i(I,"class","svelte-11v3xen"),i(b,"class","progress-bar svelte-11v3xen"),q.disabled=U=0===s[4],i(q,"class","svelte-11v3xen"),i(_,"class","svelte-11v3xen"),i(k,"class","buttons svelte-11v3xen"),i(T,"class","footer svelte-11v3xen"),i(e,"class","quiz-screen svelte-11v3xen")},m(a,l){h(a,e,l),v(e,t),v(t,f),v(f,p),v(t,m),v(t,g);for(let s=0;s<G.length;s+=1)G[s].m(g,null);v(e,w),v(e,T),v(T,b),v(b,I),v(T,V),v(T,k),v(k,q),v(q,O),v(k,B),v(k,_),v(_,S),j||(M=[x(q,"click",s[15]),x(_,"click",s[16])],j=!0)},p(s,e){if(17&e&&Q!==(Q=s[0][s[4]].question_title+"")&&u(p,Q),409&e){let t;for(A=s[0][s[4]].question_answers,t=0;t<A.length;t+=1){const a=z(s,A,t);G[t]?G[t].p(a,e):(G[t]=N(a),G[t].c(),G[t].m(g,null))}for(;t<G.length;t+=1)G[t].d(1);G.length=A.length}17&e&&y(I,"width",s[4]/s[0].length*100+"%"),16&e&&U!==(U=0===s[4])&&(q.disabled=U)},d(s){s&&o(e),D(G,s),j=!1,E(M)}}}function B(s){let e,t,u,d,p;return{c(){e=a("div"),t=a("button"),u=l("Start Quiz"),this.h()},l(s){e=n(s,"DIV",{class:!0});var a=r(e);t=n(a,"BUTTON",{class:!0});var l=r(t);u=c(l,"Start Quiz"),l.forEach(o),a.forEach(o),this.h()},h(){i(t,"class","svelte-11v3xen"),i(e,"class","start-screen svelte-11v3xen")},m(a,l){h(a,e,l),v(e,t),v(t,u),d||(p=x(t,"click",s[9]),d=!0)},p:f,d(s){s&&o(e),d=!1,p()}}}function N(s){let e,t,f,p,m,g,w,T,b,E,y=s[7](s[27])+"";function D(){return s[14](s[29])}return{c(){e=a("div"),t=a("img"),p=d(),m=a("button"),g=l(y),T=d(),this.h()},l(s){e=n(s,"DIV",{class:!0});var a=r(e);t=n(a,"IMG",{src:!0,alt:!0}),p=$(a),m=n(a,"BUTTON",{class:!0});var l=r(m);g=c(l,y),l.forEach(o),T=$(a),a.forEach(o),this.h()},h(){t.src!==(f=s[8](s[27]))&&i(t,"src",f),i(t,"alt",""),i(m,"class",w=I(s[3][s[4]]==s[29]?"selected":"")+" svelte-11v3xen"),i(e,"class","w-24  svelte-11v3xen")},m(s,a){h(s,e,a),v(e,t),v(e,p),v(e,m),v(m,g),v(e,T),b||(E=x(m,"click",D),b=!0)},p(e,a){s=e,17&a&&t.src!==(f=s[8](s[27]))&&i(t,"src",f),17&a&&y!==(y=s[7](s[27])+"")&&u(g,y),24&a&&w!==(w=I(s[3][s[4]]==s[29]?"selected":"")+" svelte-11v3xen")&&i(m,"class",w)},d(s){s&&o(e),b=!1,E()}}}function _(s){let e,t,u,f,I,y,D,V,k,z,N,_,S,j,M,Q,A,G;function H(s,e){return-1==s[4]?B:s[4]>s[3].length-1?O:U}_=new q({props:{elapsedTime:s[1]}}),j=new q({props:{elapsedTime:s[2]}});let P=H(s),R=P(s);return{c(){e=a("div"),t=a("button"),u=l("Start"),f=d(),I=a("button"),y=l("Pause"),D=d(),V=a("button"),k=l("Stop"),z=d(),N=a("div"),p(_.$$.fragment),S=d(),p(j.$$.fragment),M=d(),R.c(),this.h()},l(s){e=n(s,"DIV",{class:!0});var a=r(e);t=n(a,"BUTTON",{class:!0});var l=r(t);u=c(l,"Start"),l.forEach(o),f=$(a),I=n(a,"BUTTON",{class:!0});var i=r(I);y=c(i,"Pause"),i.forEach(o),D=$(a),V=n(a,"BUTTON",{class:!0});var h=r(V);k=c(h,"Stop"),h.forEach(o),a.forEach(o),z=$(s),N=n(s,"DIV",{class:!0});var v=r(N);m(_.$$.fragment,v),S=$(v),m(j.$$.fragment,v),M=$(v),R.l(v),v.forEach(o),this.h()},h(){i(t,"class","px-2 py-1 mb-3 ml-20 text-white bg-yellow-500"),i(I,"class","px-2 py-1 mb-3 text-white bg-yellow-700"),i(V,"class","px-2 py-1 mb-3 text-white bg-yellow-900"),i(e,"class","hidden"),i(N,"class","app svelte-11v3xen")},m(a,l){h(a,e,l),v(e,t),v(t,u),v(e,f),v(e,I),v(I,y),v(e,D),v(e,V),v(V,k),h(a,z,l),h(a,N,l),g(_,N,null),v(N,S),g(j,N,null),v(N,M),R.m(N,null),Q=!0,A||(G=[x(t,"click",s[10]),x(I,"click",s[11]),x(V,"click",s[12])],A=!0)},p(s,[e]){const t={};2&e&&(t.elapsedTime=s[1]),_.$set(t);const a={};4&e&&(a.elapsedTime=s[2]),j.$set(a),P===(P=H(s))&&R?R.p(s,e):(R.d(1),R=P(s),R&&(R.c(),R.m(N,null)))},i(s){Q||(w(_.$$.fragment,s),w(j.$$.fragment,s),Q=!0)},o(s){T(_.$$.fragment,s),T(j.$$.fragment,s),Q=!1},d(s){s&&o(e),s&&o(z),s&&o(N),b(_),b(j),R.d(),A=!1,E(G)}}}const S=async({fetch:s})=>{const e=await s("/quiz.json");if(e.ok){const s=await e.json();return{props:{quiz:await s.data}}}const{message:t}=await e.json();return{error:new Error(t)}};function j(s,e,t){let{quiz:a}=e;console.log(a);let l=a,n=0,r=0,c=0,o=null,i=0,h=new Array(l.length).fill("answer"),v=-1;function u(){let s=Date.now();t(1,n=c+5e3-s+i),t(2,r=c+15e3-s+i),n<=0&&r>0?(console.log("Adding"),t(1,n+=5e3)):r<=0&&n<=0&&(console.log("Game Over"),clearInterval(o),t(2,r=0),t(1,n=0))}function f(){c=Date.now(),o=setInterval(u)}return s.$$set=s=>{"quiz"in s&&t(13,a=s.quiz)},[l,n,r,h,v,function(){return h.reduce(((s,e,t)=>1==l[t].question_answers[e].is_correct?s+1:s),0)/l.length*100+"%"},function(){t(3,h=new Array(l.length).fill(null)),t(4,v=0)},s=>s.answer_title.split("$")[0],s=>s.answer_title.split("$")[1],function(){t(0,l=a),t(4,v=0),f()},f,function(){clearInterval(o),i=n},function(){t(1,n=0),clearInterval(o)},a,s=>{t(3,h[v]=s,h),console.log(h)},()=>{t(4,v--,v)},()=>{t(4,v++,v)}]}export default class extends s{constructor(s){super(),e(this,s,j,_,t,{quiz:13})}}export{S as load};
