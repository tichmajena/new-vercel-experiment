import{S as ve,i as ge,s as ke,j as Z,m as x,o as ee,x as z,u as M,v as te,e as k,k as U,t as F,c as b,a as p,d as c,n as A,g as K,b as i,f as C,G as m,H as G,I as se,h as be,D as X,E as Q,w as we,X as $e,K as ne,L as P,l as ae,r as Ee}from"../../chunks/vendor-911147da.js";import{c as R,d as H}from"../../chunks/store-cc46ed4c.js";import je from"./OurButtons.svelte-03b5ddb2.js";import{g as le}from"../../chunks/navigation-51b348a1.js";import{B as ie}from"../../chunks/index-f86ce38b.js";import"../../chunks/singletons-ff603286.js";function ce(o,t,e){const l=o.slice();return l[14]=t[e],l[16]=e,l}function De(o){let t;return{c(){t=F("Select")},l(e){t=K(e,"Select")},m(e,l){C(e,t,l)},d(e){e&&c(t)}}}function Ne(o){let t;return{c(){t=F("Unselect")},l(e){t=K(e,"Unselect")},m(e,l){C(e,t,l)},d(e){e&&c(t)}}}function Be(o){let t;function e(s,r){return s[0]?Ne:De}let l=e(o),n=l(o);return{c(){n.c(),t=ae()},l(s){n.l(s),t=ae()},m(s,r){n.m(s,r),C(s,t,r)},p(s,r){l!==(l=e(s))&&(n.d(1),n=l(s),n&&(n.c(),n.m(t.parentNode,t)))},d(s){n.d(s),s&&c(t)}}}function fe(o){let t,e;return t=new ie({props:{loading:o[1],$$slots:{default:[ye]},$$scope:{ctx:o}}}),t.$on("click",o[10]),{c(){Z(t.$$.fragment)},l(l){x(t.$$.fragment,l)},m(l,n){ee(t,l,n),e=!0},p(l,n){const s={};n&2&&(s.loading=l[1]),n&131072&&(s.$$scope={dirty:n,ctx:l}),t.$set(s)},i(l){e||(z(t.$$.fragment,l),e=!0)},o(l){M(t.$$.fragment,l),e=!1},d(l){te(t,l)}}}function ye(o){let t;return{c(){t=F("Delete")},l(e){t=K(e,"Delete")},m(e,l){C(e,t,l)},d(e){e&&c(t)}}}function ue(o){let t;return{c(){t=F("Please Press The Add Button To Create Your Notes!!!")},l(e){t=K(e,"Please Press The Add Button To Create Your Notes!!!")},m(e,l){C(e,t,l)},d(e){e&&c(t)}}}function de(o){let t,e,l,n;return{c(){t=k("label"),e=k("input"),this.h()},l(s){t=b(s,"LABEL",{for:!0});var r=p(t);e=b(r,"INPUT",{id:!0,group:!0,type:!0}),r.forEach(c),this.h()},h(){i(e,"id",o[16]),i(e,"group",o[5]),e.value=o[16],i(e,"type","checkbox"),i(t,"for",o[16])},m(s,r){C(s,t,r),m(t,e),l||(n=G(e,"click",o[9]),l=!0)},p:se,d(s){s&&c(t),l=!1,n()}}}function he(o){let t,e,l,n,s,r,f=o[3][o[16]].title+"",v,I,T,y,S,u=o[0]&&de(o);function J(){return o[13](o[16])}return{c(){t=k("div"),e=k("div"),u&&u.c(),l=U(),n=k("div"),s=k("a"),r=k("h3"),v=F(f),T=U(),this.h()},l(w){t=b(w,"DIV",{class:!0});var h=p(t);e=b(h,"DIV",{class:!0});var d=p(e);u&&u.l(d),d.forEach(c),l=A(h),n=b(h,"DIV",{class:!0});var g=p(n);s=b(g,"A",{href:!0});var _=p(s);r=b(_,"H3",{class:!0});var O=p(r);v=K(O,f),O.forEach(c),_.forEach(c),g.forEach(c),T=A(h),h.forEach(c),this.h()},h(){i(e,"class","w-1/12"),i(r,"class","text-lg ml-8 md:ml-10"),i(s,"href",I="/code/"+o[16]+"-"+o[14].id),i(n,"class","w-11/12"),i(t,"class","flex")},m(w,h){C(w,t,h),m(t,e),u&&u.m(e,null),m(t,l),m(t,n),m(n,s),m(s,r),m(r,v),m(t,T),y||(S=G(s,"click",J),y=!0)},p(w,h){o=w,o[0]?u?u.p(o,h):(u=de(o),u.c(),u.m(e,null)):u&&(u.d(1),u=null),h&8&&f!==(f=o[3][o[16]].title+"")&&be(v,f),h&8&&I!==(I="/code/"+o[16]+"-"+o[14].id)&&i(s,"href",I)},d(w){w&&c(t),u&&u.d(),y=!1,S()}}}function me(o){let t,e,l,n,s;return{c(){t=k("button"),e=X("svg"),l=X("path"),this.h()},l(r){t=b(r,"BUTTON",{class:!0});var f=p(t);e=Q(f,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var v=p(e);l=Q(v,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),p(l).forEach(c),v.forEach(c),f.forEach(c),this.h()},h(){i(l,"stroke-linecap","round"),i(l,"stroke-linejoin","round"),i(l,"stroke-width","2"),i(l,"d","M12 6v6m0 0v6m0-6h6m-6 0H6"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-8 w-8"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(t,"class","text-white rounded-full h-14 w-14 bg-pink-700 grid place-items-center")},m(r,f){C(r,t,f),m(t,e),m(e,l),n||(s=G(t,"click",o[7]),n=!0)},p:se,d(r){r&&c(t),n=!1,s()}}}function _e(o){let t,e,l,n,s;return{c(){t=k("button"),e=X("svg"),l=X("path"),this.h()},l(r){t=b(r,"BUTTON",{class:!0});var f=p(t);e=Q(f,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var v=p(e);l=Q(v,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),p(l).forEach(c),v.forEach(c),f.forEach(c),this.h()},h(){i(l,"stroke-linecap","round"),i(l,"stroke-linejoin","round"),i(l,"stroke-width","2"),i(l,"d","M5 13l4 4L19 7"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-8 w-8"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(t,"class","text-white rounded-full h-14 w-14 bg-green-700 grid place-items-center")},m(r,f){C(r,t,f),m(t,e),m(e,l),n||(s=G(t,"click",o[8]),n=!0)},p:se,d(r){r&&c(t),n=!1,s()}}}function Ie(o){let t,e,l,n,s,r,f,v,I,T,y,S,u,J,w,h,d,g;f=new ie({props:{$$slots:{default:[Be]},$$scope:{ctx:o}}}),f.$on("click",o[12]);let _=o[0]&&o[2].length>0&&fe(o),O=o[3],$=[];for(let a=0;a<O.length;a+=1)$[a]=he(ce(o,O,a));let E=null;O.length||(E=ue()),u=new je({});let j=!o[4].save&&!o[4].edit&&me(o),D=o[4].save&&_e(o);return{c(){t=k("div"),e=k("h3"),l=F("Code Notes"),n=U(),s=k("div"),r=k("div"),Z(f.$$.fragment),v=U(),_&&_.c(),I=U();for(let a=0;a<$.length;a+=1)$[a].c();E&&E.c(),T=U(),y=k("div"),S=k("div"),Z(u.$$.fragment),J=U(),w=k("div"),h=k("div"),j&&j.c(),d=U(),D&&D.c(),this.h()},l(a){t=b(a,"DIV",{class:!0});var N=p(t);e=b(N,"H3",{class:!0});var L=p(e);l=K(L,"Code Notes"),L.forEach(c),N.forEach(c),n=A(a),s=b(a,"DIV",{class:!0});var B=p(s);r=b(B,"DIV",{class:!0});var V=p(r);x(f.$$.fragment,V),v=A(V),_&&_.l(V),I=A(V);for(let W=0;W<$.length;W+=1)$[W].l(V);E&&E.l(V),T=A(V),y=b(V,"DIV",{class:!0});var Y=p(y);S=b(Y,"DIV",{class:!0});var oe=p(S);x(u.$$.fragment,oe),oe.forEach(c),J=A(Y),w=b(Y,"DIV",{class:!0});var re=p(w);h=b(re,"DIV",{id:!0});var q=p(h);j&&j.l(q),d=A(q),D&&D.l(q),q.forEach(c),re.forEach(c),Y.forEach(c),V.forEach(c),B.forEach(c),this.h()},h(){i(e,"class","ml-10"),i(t,"class","fixed inset-x-0 p-2 md:p-4 bg-gray-700 md:top-0 top-14 text-white text-lg md:pl-64 z-10"),i(S,"class","note-footer"),i(h,"id","add-btn"),i(w,"class","bottom-bar md:pl-64"),i(y,"class","app-wrapper"),i(r,"class","container mx-auto max-w-lg "),i(s,"class","section md:mt-32 mt-20")},m(a,N){C(a,t,N),m(t,e),m(e,l),C(a,n,N),C(a,s,N),m(s,r),ee(f,r,null),m(r,v),_&&_.m(r,null),m(r,I);for(let L=0;L<$.length;L+=1)$[L].m(r,null);E&&E.m(r,null),m(r,T),m(r,y),m(y,S),ee(u,S,null),m(y,J),m(y,w),m(w,h),j&&j.m(h,null),m(h,d),D&&D.m(h,null),g=!0},p(a,[N]){const L={};if(N&131073&&(L.$$scope={dirty:N,ctx:a}),f.$set(L),a[0]&&a[2].length>0?_?(_.p(a,N),N&5&&z(_,1)):(_=fe(a),_.c(),z(_,1),_.m(r,I)):_&&(Ee(),M(_,1,1,()=>{_=null}),we()),N&633){O=a[3];let B;for(B=0;B<O.length;B+=1){const V=ce(a,O,B);$[B]?$[B].p(V,N):($[B]=he(V),$[B].c(),$[B].m(r,T))}for(;B<$.length;B+=1)$[B].d(1);$.length=O.length,O.length?E&&(E.d(1),E=null):E||(E=ue(),E.c(),E.m(r,T))}!a[4].save&&!a[4].edit?j?j.p(a,N):(j=me(a),j.c(),j.m(h,d)):j&&(j.d(1),j=null),a[4].save?D?D.p(a,N):(D=_e(a),D.c(),D.m(h,null)):D&&(D.d(1),D=null)},i(a){g||(z(f.$$.fragment,a),z(_),z(u.$$.fragment,a),g=!0)},o(a){M(f.$$.fragment,a),M(_),M(u.$$.fragment,a),g=!1},d(a){a&&c(t),a&&c(n),a&&c(s),te(f),_&&_.d(),$e($,a),E&&E.d(),te(u),j&&j.d(),D&&D.d()}}}const Ae=async({fetch:o,session:t})=>{if(!t)return{status:302,redirect:"/auth"};const e=await o("/code.json");if(e.ok){let n=(await e.json()).map(s=>{let r=JSON.parse(s.string);return r.id=s.id,r});return R.set(n),{}}return{}};let Te="zita",pe={};pe[Te]="John";console.log(pe);function Ve(o,t,e){let l,n,s;ne(o,R,d=>e(3,n=d)),ne(o,H,d=>e(4,s=d));let r=[],f,v,I=!1;function T(){n.forEach(d=>{d.edit=!1,d.ready=!1,d.steps.length>0&&d.steps.forEach(g=>{g.editDesc=!1,g.editCode=!1})})}function y(){let d={title:"",steps:[],edit:!0,ready:!0,mode:"draft"};P(R,n=[...n,d],n),P(H,s.showFabs=!0,s),P(H,s.save=!0,s),P(H,s.edit=!1,s);let g=n.length-1;le("/code/"+g)}function S(){P(H,s.save=!1,s),le("/code/")}P(H,s.save=!1,s);function u(d){console.log(f);let g=+d.srcElement.id;e(11,r=[...r,n[g].id])}function J(){e(1,I=!0),r.forEach(async d=>{console.log("trashing:",d);const g=await fetch(`/code/${d}.json`,{method:"DELETE",body:JSON.stringify({status:"trash"})});g.ok&&(e(1,I=!1),le("/code",{invalidate:!0})),await g.json()})}const w=()=>{e(0,v=!v)},h=d=>{T(),P(R,n[d].ready=!0,n),P(H,s.edit=!0,s),P(H,s.showFabs=!0,s)};return o.$$.update=()=>{o.$$.dirty&2048&&e(2,l=r)},[v,I,l,n,s,f,T,y,S,u,J,r,w,h]}class He extends ve{constructor(t){super();ge(this,t,Ve,Ie,ke,{})}}export{He as default,Ae as load};
