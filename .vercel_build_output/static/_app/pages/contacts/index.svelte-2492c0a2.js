import{S as le,i as se,s as ae,e as m,t as w,k as P,c as v,a as b,g as y,d as h,n as j,b as N,W as ne,f as x,G as r,h as G,l as L,I as Q,X as Y}from"../../chunks/vendor-52b416c4.js";function Z(_,e,t){const a=_.slice();return a[5]=e[t],a[7]=t,a}function $(_,e,t){const a=_.slice();return a[8]=e[t],a[7]=t,a}function oe(_){let e,t,a=_[5].phone_numbers,n=[];for(let l=0;l<a.length;l+=1)n[l]=ee($(_,a,l));return{c(){e=w(`Not a string\r
            `);for(let l=0;l<n.length;l+=1)n[l].c();t=L()},l(l){e=y(l,`Not a string\r
            `);for(let o=0;o<n.length;o+=1)n[o].l(l);t=L()},m(l,o){x(l,e,o);for(let s=0;s<n.length;s+=1)n[s].m(l,o);x(l,t,o)},p(l,o){if(o&1){a=l[5].phone_numbers;let s;for(s=0;s<a.length;s+=1){const i=$(l,a,s);n[s]?n[s].p(i,o):(n[s]=ee(i),n[s].c(),n[s].m(t.parentNode,t))}for(;s<n.length;s+=1)n[s].d(1);n.length=a.length}},d(l){l&&h(e),Y(n,l),l&&h(t)}}}function ce(_){let e,t,a,n,l=_[5].phone_numbers+"",o;return{c(){e=m("span"),t=m("span"),a=w("phone"),n=P(),o=w(l),this.h()},l(s){e=v(s,"SPAN",{class:!0});var i=b(e);t=v(i,"SPAN",{class:!0});var f=b(t);a=y(f,"phone"),f.forEach(h),n=j(i),o=y(i,l),i.forEach(h),this.h()},h(){N(t,"class","ml-5"),N(e,"class","block")},m(s,i){x(s,e,i),r(e,t),r(t,a),r(e,n),r(e,o)},p(s,i){i&1&&l!==(l=s[5].phone_numbers+"")&&G(o,l)},d(s){s&&h(e)}}}function ee(_){let e,t,a,n,l=_[8]+"",o,s;return{c(){e=m("span"),t=m("span"),a=w("phone"),n=P(),o=w(l),s=P(),this.h()},l(i){e=v(i,"SPAN",{class:!0});var f=b(e);t=v(f,"SPAN",{class:!0});var g=b(t);a=y(g,"phone"),g.forEach(h),n=j(f),o=y(f,l),s=j(f),f.forEach(h),this.h()},h(){N(t,"class","ml-5"),N(e,"class","block")},m(i,f){x(i,e,f),r(e,t),r(t,a),r(e,n),r(e,o),r(e,s)},p(i,f){f&1&&l!==(l=i[8]+"")&&G(o,l)},d(i){i&&h(e)}}}function te(_){let e,t,a,n,l,o,s,i,f=_[5].full_name+"",g,u,c,d,p,D,E,I,C,O,H=_[5].email+"",T,R,U;function W(k,S){return typeof k[5].phone_numbers=="string"?ce:oe}let q=W(_),A=q(_);return{c(){e=m("li"),t=m("div"),a=m("div"),n=w("icon"),l=P(),o=m("div"),s=m("a"),i=m("h5"),g=w(f),c=P(),d=m("span"),p=w("edit"),D=P(),E=m("span"),A.c(),I=P(),C=m("span"),O=w("email"),T=w(H),R=m("br"),U=P(),this.h()},l(k){e=v(k,"LI",{});var S=b(e);t=v(S,"DIV",{style:!0,class:!0});var z=b(t);a=v(z,"DIV",{});var X=b(a);n=y(X,"icon"),X.forEach(h),l=j(z),o=v(z,"DIV",{});var V=b(o);s=v(V,"A",{"sveltekit:prefetch":!0,href:!0});var F=b(s);i=v(F,"H5",{});var J=b(i);g=y(J,f),J.forEach(h),F.forEach(h),c=j(V),d=v(V,"SPAN",{});var K=b(d);p=y(K,"edit"),K.forEach(h),D=j(V),E=v(V,"SPAN",{});var B=b(E);A.l(B),I=j(B),C=v(B,"SPAN",{class:!0});var M=b(C);O=y(M,"email"),M.forEach(h),T=y(B,H),R=v(B,"BR",{}),B.forEach(h),V.forEach(h),z.forEach(h),U=j(S),S.forEach(h),this.h()},h(){N(s,"sveltekit:prefetch",""),N(s,"href",u="/contacts/"+_[5].slug),N(C,"class","ml-5"),ne(t,"border-bottom","2px solid gray"),N(t,"class","d-flex flex-row mb-8")},m(k,S){x(k,e,S),r(e,t),r(t,a),r(a,n),r(t,l),r(t,o),r(o,s),r(s,i),r(i,g),r(o,c),r(o,d),r(d,p),r(o,D),r(o,E),A.m(E,null),r(E,I),r(E,C),r(C,O),r(E,T),r(E,R),r(e,U)},p(k,S){S&1&&f!==(f=k[5].full_name+"")&&G(g,f),S&1&&u!==(u="/contacts/"+k[5].slug)&&N(s,"href",u),q===(q=W(k))&&A?A.p(k,S):(A.d(1),A=q(k),A&&(A.c(),A.m(E,I))),S&1&&H!==(H=k[5].email+"")&&G(T,H)},d(k){k&&h(e),A.d()}}}function re(_){let e,t,a,n,l,o,s,i,f,g=_[0],u=[];for(let c=0;c<g.length;c+=1)u[c]=te(Z(_,g,c));return{c(){e=m("div"),t=m("h3"),a=w("Contacts"),n=P(),l=m("a"),o=m("button"),s=w("New"),i=P();for(let c=0;c<u.length;c+=1)u[c].c();f=L(),this.h()},l(c){e=v(c,"DIV",{class:!0});var d=b(e);t=v(d,"H3",{class:!0});var p=b(t);a=y(p,"Contacts"),p.forEach(h),d.forEach(h),n=j(c),l=v(c,"A",{href:!0});var D=b(l);o=v(D,"BUTTON",{class:!0});var E=b(o);s=y(E,"New"),E.forEach(h),D.forEach(h),i=j(c);for(let I=0;I<u.length;I+=1)u[I].l(c);f=L(),this.h()},h(){N(t,"class","ml-10"),N(e,"class","fixed inset-x-0 p-2 md:p-4 bg-gray-700 md:top-0 top-14 text-white text-lg md:pl-64 z-10"),N(o,"class","px-6 py-2 text-white rounded bg-pink-700 hover:bg-pink-500"),N(l,"href","/contacts/new")},m(c,d){x(c,e,d),r(e,t),r(t,a),x(c,n,d),x(c,l,d),r(l,o),r(o,s),x(c,i,d);for(let p=0;p<u.length;p+=1)u[p].m(c,d);x(c,f,d)},p(c,[d]){if(d&1){g=c[0];let p;for(p=0;p<g.length;p+=1){const D=Z(c,g,p);u[p]?u[p].p(D,d):(u[p]=te(D),u[p].c(),u[p].m(f.parentNode,f))}for(;p<u.length;p+=1)u[p].d(1);u.length=g.length}},i:Q,o:Q,d(c){c&&h(e),c&&h(n),c&&h(l),c&&h(i),Y(u,c),c&&h(f)}}}const fe=async({fetch:_})=>{const e=await _("/contacts.json");if(console.log(e),e.ok)return{props:{contacts:await await e.json()}};const{message:t}=await e.json();return{error:new Error(t)}};function ie(_,e,t){let{contacts:a}=e;return console.log(a),_.$$set=n=>{"contacts"in n&&t(0,a=n.contacts)},[a]}class _e extends le{constructor(e){super();se(this,e,ie,re,ae,{contacts:0})}}export{_e as default,fe as load};
